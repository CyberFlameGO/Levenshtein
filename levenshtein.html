

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Levenshtein module &mdash; Levenshtein 0.13.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="&lt;no title&gt;" href="changelog.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Levenshtein
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Installation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Levenshtein module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#distance">distance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ratio">ratio</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hamming">hamming</a></li>
<li class="toctree-l2"><a class="reference internal" href="#jaro">jaro</a></li>
<li class="toctree-l2"><a class="reference internal" href="#jaro-winkler">jaro_winkler</a></li>
<li class="toctree-l2"><a class="reference internal" href="#median">median</a></li>
<li class="toctree-l2"><a class="reference internal" href="#median-improve">median_improve</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quickmedian">quickmedian</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setmedian">setmedian</a></li>
<li class="toctree-l2"><a class="reference internal" href="#seqratio">seqratio</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setratio">setratio</a></li>
<li class="toctree-l2"><a class="reference internal" href="#editops">editops</a></li>
<li class="toctree-l2"><a class="reference internal" href="#opcodes">opcodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inverse">inverse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#apply-edit">apply_edit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#matching-blocks">matching_blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subtract-edit">subtract_edit</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Levenshtein</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Levenshtein module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/levenshtein.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="levenshtein-module">
<h1>Levenshtein module<a class="headerlink" href="#levenshtein-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="distance">
<h2>distance<a class="headerlink" href="#distance" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.distance">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute absolute Levenshtein distance of two strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string1</strong> (<em>str</em>) – First string to compare.</p></li>
<li><p><strong>string2</strong> (<em>str</em>) – Second string to compare.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>distance</strong> – distance between s1 and s2</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>it’s hard to spell Levenshtein correctly</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;Levenshtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Lenvinsten&#39;</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;Levenshtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Levensthein&#39;</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;Levenshtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Levenshten&#39;</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;Levenshtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Levenshtein&#39;</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Yeah, we’ve managed it at last.</p>
</dd></dl>

</div>
<div class="section" id="ratio">
<h2>ratio<a class="headerlink" href="#ratio" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.ratio">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute similarity of two strings using the InDel distance.
The InDel distance is similar to the Levenshtein distance with the following
weights:
- Insertion: 1
- Deletion: 1
- Substitution: 2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string1</strong> (<em>str</em>) – First string to compare.</p></li>
<li><p><strong>string2</strong> (<em>str</em>) – Second string to compare.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>similarity</strong> – similarity between s1 and s2 as a float between 0 and 1</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The similarity is usually equal or somewhat higher than
difflib.SequenceMatcher.ratio(), because it’s
based on the real minimal edit distance.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span><span class="p">(</span><span class="s1">&#39;Hello world!&#39;</span><span class="p">,</span> <span class="s1">&#39;Holly grail!&#39;</span><span class="p">)</span>
<span class="go">0.583333</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span><span class="p">(</span><span class="s1">&#39;Brian&#39;</span><span class="p">,</span> <span class="s1">&#39;Jesus&#39;</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>Really?  I thought there was some similarity.</p>
</dd></dl>

</div>
<div class="section" id="hamming">
<h2>hamming<a class="headerlink" href="#hamming" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.hamming">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">hamming</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.hamming" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Hamming distance of two strings.
The Hamming distance is simply the number of differing characters.
That means the length of the strings must be the same.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string1</strong> (<em>str</em>) – First string to compare.</p></li>
<li><p><strong>string2</strong> (<em>str</em>) – Second string to compare.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>distance</strong> – distance between s1 and s2</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If s1 and s2 have a different length</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hamming</span><span class="p">(</span><span class="s1">&#39;Hello world!&#39;</span><span class="p">,</span> <span class="s1">&#39;Holly grail!&#39;</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hamming</span><span class="p">(</span><span class="s1">&#39;Brian&#39;</span><span class="p">,</span> <span class="s1">&#39;Jesus&#39;</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="jaro">
<h2>jaro<a class="headerlink" href="#jaro" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.jaro">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">jaro</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.jaro" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Jaro string similarity metric of two strings.
The Jaro string similarity metric is intended for short strings like
personal last names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string1</strong> (<em>str</em>) – First string to compare.</p></li>
<li><p><strong>string2</strong> (<em>str</em>) – Second string to compare.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>similarity</strong> – similarity between s1 and s2 as a float between 0 and 1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jaro</span><span class="p">(</span><span class="s1">&#39;Brian&#39;</span><span class="p">,</span> <span class="s1">&#39;Jesus&#39;</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jaro</span><span class="p">(</span><span class="s1">&#39;Thorkel&#39;</span><span class="p">,</span> <span class="s1">&#39;Thorgier&#39;</span><span class="p">)</span>  
<span class="go">0.779761...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jaro</span><span class="p">(</span><span class="s1">&#39;Dinsdale&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>  
<span class="go">0.708333...</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="jaro-winkler">
<h2>jaro_winkler<a class="headerlink" href="#jaro-winkler" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.jaro_winkler">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">jaro_winkler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.jaro_winkler" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Jaro string similarity metric of two strings.
The Jaro-Winkler string similarity metric is a modification of Jaro
metric giving more weight to common prefix, as spelling mistakes are
more likely to occur near ends of words.</p>
<p>The prefix weight is inverse value of common prefix length sufficient
to consider the strings <em>identical</em>.  If no prefix weight is
specified, 1/10 is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string1</strong> (<em>str</em>) – First string to compare.</p></li>
<li><p><strong>string2</strong> (<em>str</em>) – Second string to compare.</p></li>
<li><p><strong>prefix_weight</strong> (<em>float</em><em>, </em><em>optional</em>) – weight used for the common prefix of the two strings.
Has to be between 0 and 0.25. Default is 0.1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>similarity</strong> – similarity between s1 and s2 as a float between 0 and 1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If prefix_weight is invalid</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jaro_winkler</span><span class="p">(</span><span class="s1">&#39;Brian&#39;</span><span class="p">,</span> <span class="s1">&#39;Jesus&#39;</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jaro_winkler</span><span class="p">(</span><span class="s1">&#39;Thorkel&#39;</span><span class="p">,</span> <span class="s1">&#39;Thorgier&#39;</span><span class="p">)</span>
<span class="go">0.867857</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jaro_winkler</span><span class="p">(</span><span class="s1">&#39;Dinsdale&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="go">0.7375</span>
</pre></div>
</div>
<p>When using a prefix_weight of 0.25 any all strings with a common prefix of 4
will have a similarity of 1.0</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jaro_winkler</span><span class="p">(</span><span class="s1">&#39;Thorkel&#39;</span><span class="p">,</span> <span class="s1">&#39;Thorgier&#39;</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
<span class="go">1.0</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="median">
<h2>median<a class="headerlink" href="#median" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.median">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">median</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.median" title="Permalink to this definition">¶</a></dt>
<dd><p>Find an approximate generalized median string using greedy algorithm.</p>
<p>median(string_sequence[, weight_sequence])</p>
<p>You can optionally pass a weight for each string as the second
argument.  The weights are interpreted as item multiplicities,
although any non-negative real numbers are accepted.  Use them to
improve computation speed when strings often appear multiple times
in the sequence.</p>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">median</span><span class="p">([</span><span class="s1">&#39;SpSm&#39;</span><span class="p">,</span> <span class="s1">&#39;mpamm&#39;</span><span class="p">,</span> <span class="s1">&#39;Spam&#39;</span><span class="p">,</span> <span class="s1">&#39;Spa&#39;</span><span class="p">,</span> <span class="s1">&#39;Sua&#39;</span><span class="p">,</span> <span class="s1">&#39;hSam&#39;</span><span class="p">])</span>
<span class="go">&#39;Spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fixme</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Levnhtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Leveshein&#39;</span><span class="p">,</span> <span class="s1">&#39;Leenshten&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;Leveshtei&#39;</span><span class="p">,</span> <span class="s1">&#39;Lenshtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Lvenstein&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;Levenhtin&#39;</span><span class="p">,</span> <span class="s1">&#39;evenshtei&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">median</span><span class="p">(</span><span class="n">fixme</span><span class="p">)</span>
<span class="go">&#39;Levenshtein&#39;</span>
</pre></div>
</div>
<p>Hm.  Even a computer program can spell Levenshtein better than me.</p>
</dd></dl>

</div>
<div class="section" id="median-improve">
<h2>median_improve<a class="headerlink" href="#median-improve" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.median_improve">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">median_improve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.median_improve" title="Permalink to this definition">¶</a></dt>
<dd><p>Improve an approximate generalized median string by perturbations.</p>
<p>median_improve(string, string_sequence[, weight_sequence])</p>
<p>The first argument is the estimated generalized median string you
want to improve, the others are the same as in median().  It returns
a string with total distance less or equal to that of the given string.</p>
<p>Note this is much slower than median().  Also note it performs only
one improvement step, calling median_improve() again on the result
may improve it further, though this is unlikely to happen unless the
given string was not very similar to the actual generalized median.</p>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fixme</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Levnhtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Leveshein&#39;</span><span class="p">,</span> <span class="s1">&#39;Leenshten&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;Leveshtei&#39;</span><span class="p">,</span> <span class="s1">&#39;Lenshtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Lvenstein&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;Levenhtin&#39;</span><span class="p">,</span> <span class="s1">&#39;evenshtei&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">median_improve</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">fixme</span><span class="p">)</span>
<span class="go">&#39;enhtein&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">median_improve</span><span class="p">(</span><span class="n">median_improve</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">fixme</span><span class="p">),</span> <span class="n">fixme</span><span class="p">)</span>
<span class="go">&#39;Levenshtein&#39;</span>
</pre></div>
</div>
<p>It takes some work to change spam to Levenshtein.</p>
</dd></dl>

</div>
<div class="section" id="quickmedian">
<h2>quickmedian<a class="headerlink" href="#quickmedian" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.quickmedian">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">quickmedian</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.quickmedian" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a very approximate generalized median string, but fast.</p>
<p>quickmedian(string[, weight_sequence])</p>
<p>See median() for argument description.</p>
<p>This method is somewhere between setmedian() and picking a random
string from the set; both speedwise and quality-wise.</p>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fixme</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Levnhtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Leveshein&#39;</span><span class="p">,</span> <span class="s1">&#39;Leenshten&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;Leveshtei&#39;</span><span class="p">,</span> <span class="s1">&#39;Lenshtein&#39;</span><span class="p">,</span> <span class="s1">&#39;Lvenstein&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;Levenhtin&#39;</span><span class="p">,</span> <span class="s1">&#39;evenshtei&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quickmedian</span><span class="p">(</span><span class="n">fixme</span><span class="p">)</span>
<span class="go">&#39;Levnshein&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="setmedian">
<h2>setmedian<a class="headerlink" href="#setmedian" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.setmedian">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">setmedian</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.setmedian" title="Permalink to this definition">¶</a></dt>
<dd><p>Find set median of a string set (passed as a sequence).</p>
<p>setmedian(string[, weight_sequence])</p>
<p>See median() for argument description.</p>
<p>The returned string is always one of the strings in the sequence.</p>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">setmedian</span><span class="p">([</span><span class="s1">&#39;ehee&#39;</span><span class="p">,</span> <span class="s1">&#39;cceaes&#39;</span><span class="p">,</span> <span class="s1">&#39;chees&#39;</span><span class="p">,</span> <span class="s1">&#39;chreesc&#39;</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s1">&#39;chees&#39;</span><span class="p">,</span> <span class="s1">&#39;cheesee&#39;</span><span class="p">,</span> <span class="s1">&#39;cseese&#39;</span><span class="p">,</span> <span class="s1">&#39;chetese&#39;</span><span class="p">])</span>
<span class="go">&#39;chees&#39;</span>
</pre></div>
</div>
<p>You haven’t asked me about Limburger, sir.</p>
</dd></dl>

</div>
<div class="section" id="seqratio">
<h2>seqratio<a class="headerlink" href="#seqratio" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.seqratio">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">seqratio</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.seqratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute similarity ratio of two sequences of strings.</p>
<p>seqratio(string_sequence1, string_sequence2)</p>
<p>This is like ratio(), but for string sequences.  A kind of ratio()
is used to to measure the cost of item change operation for the
strings.</p>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">seqratio</span><span class="p">([</span><span class="s1">&#39;newspaper&#39;</span><span class="p">,</span> <span class="s1">&#39;litter bin&#39;</span><span class="p">,</span> <span class="s1">&#39;tinny&#39;</span><span class="p">,</span> <span class="s1">&#39;antelope&#39;</span><span class="p">],</span>
<span class="gp">... </span>         <span class="p">[</span><span class="s1">&#39;caribou&#39;</span><span class="p">,</span> <span class="s1">&#39;sausage&#39;</span><span class="p">,</span> <span class="s1">&#39;gorn&#39;</span><span class="p">,</span> <span class="s1">&#39;woody&#39;</span><span class="p">])</span>
<span class="go">0.21517857142857144</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="setratio">
<h2>setratio<a class="headerlink" href="#setratio" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.setratio">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">setratio</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.setratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute similarity ratio of two strings sets (passed as sequences).</p>
<p>setratio(string_sequence1, string_sequence2)</p>
<p>The best match between any strings in the first set and the second
set (passed as sequences) is attempted.  I.e., the order doesn’t
matter here.</p>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">setratio</span><span class="p">([</span><span class="s1">&#39;newspaper&#39;</span><span class="p">,</span> <span class="s1">&#39;litter bin&#39;</span><span class="p">,</span> <span class="s1">&#39;tinny&#39;</span><span class="p">,</span> <span class="s1">&#39;antelope&#39;</span><span class="p">],</span>
<span class="gp">... </span>         <span class="p">[</span><span class="s1">&#39;caribou&#39;</span><span class="p">,</span> <span class="s1">&#39;sausage&#39;</span><span class="p">,</span> <span class="s1">&#39;gorn&#39;</span><span class="p">,</span> <span class="s1">&#39;woody&#39;</span><span class="p">])</span>  
<span class="go">0.281845...</span>
</pre></div>
</div>
<p>No, even reordering doesn’t help the tinny words to match the
woody ones.</p>
</dd></dl>

</div>
<div class="section" id="editops">
<h2>editops<a class="headerlink" href="#editops" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.editops">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">editops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.editops" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sequence of edit operations transforming one string to another.</p>
<p>editops(source_string, destination_string)
editops(edit_operations, source_length, destination_length)</p>
<p>The result is a list of triples (operation, spos, dpos), where
operation is one of ‘equal’, ‘replace’, ‘insert’, or ‘delete’;  spos
and dpos are position of characters in the first (source) and the
second (destination) strings.  These are operations on signle
characters.  In fact the returned list doesn’t contain the ‘equal’,
but all the related functions accept both lists with and without
‘equal’s.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">editops</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;park&#39;</span><span class="p">)</span>
<span class="go">[(&#39;delete&#39;, 0, 0), (&#39;insert&#39;, 3, 2), (&#39;replace&#39;, 3, 3)]</span>
</pre></div>
</div>
<p>The alternate form editops(opcodes, source_string, destination_string)
can be used for conversion from opcodes (5-tuples) to editops (you can
pass strings or their lengths, it doesn’t matter).</p>
</dd></dl>

</div>
<div class="section" id="opcodes">
<h2>opcodes<a class="headerlink" href="#opcodes" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.opcodes">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">opcodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.opcodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sequence of edit operations transforming one string to another.</p>
<p>opcodes(source_string, destination_string)
opcodes(edit_operations, source_length, destination_length)</p>
<p>The result is a list of 5-tuples with the same meaning as in
SequenceMatcher’s get_opcodes() output.  But since the algorithms
differ, the actual sequences from Levenshtein and SequenceMatcher
may differ too.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">opcodes</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;park&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">(&#39;delete&#39;, 0, 1, 0, 0)</span>
<span class="go">(&#39;equal&#39;, 1, 3, 0, 2)</span>
<span class="go">(&#39;insert&#39;, 3, 3, 2, 3)</span>
<span class="go">(&#39;replace&#39;, 3, 4, 3, 4)</span>
</pre></div>
</div>
<p>The alternate form opcodes(editops, source_string, destination_string)
can be used for conversion from editops (triples) to opcodes (you can
pass strings or their lengths, it doesn’t matter).</p>
</dd></dl>

</div>
<div class="section" id="inverse">
<h2>inverse<a class="headerlink" href="#inverse" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.inverse">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">inverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edit_operations</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert the sense of an edit operation sequence.</p>
<p>In other words, it returns a list of edit operations transforming the
second (destination) string to the first (source).  It can be used
with both editops and opcodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>edit_operations</strong> (<em>list</em><em>[</em><em>]</em>) – edit operations to invert</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>edit_operations</strong> – inverted edit operations</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inverse</span><span class="p">(</span><span class="n">editops</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;park&#39;</span><span class="p">))</span>
<span class="go">[(&#39;insert&#39;, 0, 0), (&#39;delete&#39;, 2, 3), (&#39;replace&#39;, 3, 3)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">editops</span><span class="p">(</span><span class="s1">&#39;park&#39;</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">)</span>
<span class="go">[(&#39;insert&#39;, 0, 0), (&#39;delete&#39;, 2, 3), (&#39;replace&#39;, 3, 3)]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="apply-edit">
<h2>apply_edit<a class="headerlink" href="#apply-edit" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.apply_edit">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">apply_edit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edit_operations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.apply_edit" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a sequence of edit operations to a string.</p>
<p>apply_edit(edit_operations, source_string, destination_string)</p>
<p>In the case of editops, the sequence can be arbitrary ordered subset
of the edit sequence transforming source_string to destination_string.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">editops</span><span class="p">(</span><span class="s1">&#39;man&#39;</span><span class="p">,</span> <span class="s1">&#39;scotsman&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_edit</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="s1">&#39;man&#39;</span><span class="p">,</span> <span class="s1">&#39;scotsman&#39;</span><span class="p">)</span>
<span class="go">&#39;scotsman&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_edit</span><span class="p">(</span><span class="n">e</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;man&#39;</span><span class="p">,</span> <span class="s1">&#39;scotsman&#39;</span><span class="p">)</span>
<span class="go">&#39;scoman&#39;</span>
</pre></div>
</div>
<p>The other form of edit operations, opcodes, is not very suitable for
such a tricks, because it has to always span over complete strings,
subsets can be created by carefully replacing blocks with ‘equal’
blocks, or by enlarging ‘equal’ block at the expense of other blocks
and adjusting the other blocks accordingly.</p>
<p>Examples:
&gt;&gt;&gt; a, b = ‘spam and eggs’, ‘foo and bar’
&gt;&gt;&gt; e = opcodes(a, b)
&gt;&gt;&gt; apply_edit(inverse(e), b, a)
‘spam and eggs’
&gt;&gt;&gt; e[4] = (‘equal’, 10, 13, 8, 11)
&gt;&gt;&gt; e
[(‘delete’, 0, 1, 0, 0), (‘replace’, 1, 4, 0, 3), (‘equal’, 4, 9, 3, 8), (‘delete’, 9, 10, 8, 8), (‘equal’, 10, 13, 8, 11)]
&gt;&gt;&gt; apply_edit(e, a, b)
‘foo and ggs’</p>
</dd></dl>

</div>
<div class="section" id="matching-blocks">
<h2>matching_blocks<a class="headerlink" href="#matching-blocks" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.matching_blocks">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">matching_blocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edit_operations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.matching_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Find identical blocks in two strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edit_operations</strong> (<em>list</em><em>[</em><em>]</em>) – editops or opcodes created for the source and destination string</p></li>
<li><p><strong>source_string</strong> (<em>str</em><em> | </em><em>int</em>) – source string or the length of the source string</p></li>
<li><p><strong>destination_string</strong> (<em>str</em><em> | </em><em>int</em>) – destination string or the length of the destination string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>matching_blocks</strong> – List of triples with the same meaning as in SequenceMatcher’s
get_matching_blocks() output.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;park&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matching_blocks</span><span class="p">(</span><span class="n">editops</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="go">[(1, 0, 2), (4, 4, 0)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matching_blocks</span><span class="p">(</span><span class="n">editops</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="go">[(1, 0, 2), (4, 4, 0)]</span>
</pre></div>
</div>
<p>The last zero-length block is not an error, but it’s there for
compatibility with difflib which always emits it.</p>
<p>One can join the matching blocks to get two identical strings:
&gt;&gt;&gt; a, b = ‘dog kennels’, ‘mattresses’
&gt;&gt;&gt; mb = matching_blocks(editops(a,b), a, b)
&gt;&gt;&gt; ‘’.join([a[x[0]:x[0]+x[2]] for x in mb])
‘ees’
&gt;&gt;&gt; ‘’.join([b[x[1]:x[1]+x[2]] for x in mb])
‘ees’</p>
</dd></dl>

</div>
<div class="section" id="subtract-edit">
<h2>subtract_edit<a class="headerlink" href="#subtract-edit" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Levenshtein.subtract_edit">
<span class="sig-prename descclassname"><span class="pre">Levenshtein.</span></span><span class="sig-name descname"><span class="pre">subtract_edit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edit_operations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsequence</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Levenshtein.subtract_edit" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract an edit subsequence from a sequence.</p>
<p>subtract_edit(edit_operations, subsequence)</p>
<p>The result is equivalent to
editops(apply_edit(subsequence, s1, s2), s2), except that is
constructed directly from the edit operations.  That is, if you apply
it to the result of subsequence application, you get the same final
string as from application complete edit_operations.  It may be not
identical, though (in amibuous cases, like insertion of a character
next to the same character).</p>
<p>The subtracted subsequence must be an ordered subset of
edit_operations.</p>
<p>Note this function does not accept difflib-style opcodes as no one in
his right mind wants to create subsequences from them.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">editops</span><span class="p">(</span><span class="s1">&#39;man&#39;</span><span class="p">,</span> <span class="s1">&#39;scotsman&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">=</span> <span class="n">e</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bastard</span> <span class="o">=</span> <span class="n">apply_edit</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="s1">&#39;man&#39;</span><span class="p">,</span> <span class="s1">&#39;scotsman&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bastard</span>
<span class="go">&#39;scoman&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_edit</span><span class="p">(</span><span class="n">subtract_edit</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">),</span> <span class="n">bastard</span><span class="p">,</span> <span class="s1">&#39;scotsman&#39;</span><span class="p">)</span>
<span class="go">&#39;scotsman&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="changelog.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Max Bachmann.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>